{"ast":null,"code":"import _objectSpread from\"C:/FullStackOpen/part2/phonebook/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from\"axios\";var baseUrl='/api/persons';var getAll=function getAll(){var request=axios.get(baseUrl);return request.then(function(response){console.log(\"server response data\",response.data);return response.data;});};var create=function create(newPerson){var request=axios.post(baseUrl,newPerson);return request.then(function(response){return response.data;});};var deletePerson=function deletePerson(id){console.log(\"id to delete \",id);var request=axios.delete(\"\".concat(baseUrl,\"/\").concat(id));return request.then(function(response){return response.data;});};var update=function update(person,newNumber){var personToUpdate=person;console.log(\"person before update\",person);var updatedPerson=_objectSpread(_objectSpread({},personToUpdate),{},{number:newNumber});console.log(\"person after update\",updatedPerson);console.log(\"id types\",typeof person.id,typeof updatedPerson.id);//const request = axios.patch(`${baseUrl}/${updatedPerson.id}`,updatedPerson)\nvar request=axios.put(\"\".concat(baseUrl,\"/\").concat(person.id),updatedPerson);return request.then(function(response){return response.data;});};var phonebookService={getAll:getAll,create:create,deletePerson:deletePerson,update:update};export default phonebookService;","map":{"version":3,"names":["axios","baseUrl","getAll","request","get","then","response","console","log","data","create","newPerson","post","deletePerson","id","delete","update","person","newNumber","personToUpdate","updatedPerson","number","put","phonebookService"],"sources":["C:/FullStackOpen/part2/phonebook/src/services/phonebookservice.js"],"sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl)\r\n  return request.then(response => {\r\n\t\tconsole.log(\"server response data\",response.data)\r\n\t\treturn response.data\r\n\t})\r\n}\r\n\r\nconst create = newPerson => {\r\n  const request = axios.post(baseUrl,newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n\tconsole.log(\"id to delete \",id)\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nconst update = (person, newNumber) => {\r\n\tconst personToUpdate = person\r\n\tconsole.log(\"person before update\",person)\r\n\tconst updatedPerson = { ...personToUpdate, number: newNumber }\r\n\tconsole.log(\"person after update\",updatedPerson)\r\n\tconsole.log(\"id types\",typeof person.id, typeof updatedPerson.id)\r\n\t//const request = axios.patch(`${baseUrl}/${updatedPerson.id}`,updatedPerson)\r\n\tconst request = axios.put(`${baseUrl}/${person.id}`,updatedPerson)\r\n\treturn request.then(response => response.data)\r\n}\r\nconst phonebookService = { getAll, create, deletePerson, update };\r\n\r\nexport default phonebookService;"],"mappings":"qHAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,GAAMC,CAAAA,OAAO,CAAG,cAAhB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACpB,GAAMC,CAAAA,OAAO,CAAGH,KAAK,CAACI,GAAN,CAAUH,OAAV,CAAhB,CACC,MAAOE,CAAAA,OAAO,CAACE,IAAR,CAAa,SAAAC,QAAQ,CAAI,CAChCC,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAmCF,QAAQ,CAACG,IAA5C,EACA,MAAOH,CAAAA,QAAQ,CAACG,IAAhB,CACA,CAHO,CAAP,CAID,CAND,CAQA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,SAAS,CAAI,CAC1B,GAAMR,CAAAA,OAAO,CAAGH,KAAK,CAACY,IAAN,CAAWX,OAAX,CAAmBU,SAAnB,CAAhB,CACA,MAAOR,CAAAA,OAAO,CAACE,IAAR,CAAa,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACG,IAAb,EAArB,CAAP,CACD,CAHD,CAKA,GAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,EAAD,CAAQ,CAC5BP,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA4BM,EAA5B,EACC,GAAMX,CAAAA,OAAO,CAAGH,KAAK,CAACe,MAAN,WAAgBd,OAAhB,aAA2Ba,EAA3B,EAAhB,CACD,MAAOX,CAAAA,OAAO,CAACE,IAAR,CAAa,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACG,IAAb,EAArB,CAAP,CACA,CAJD,CAMA,GAAMO,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,MAAD,CAASC,SAAT,CAAuB,CACrC,GAAMC,CAAAA,cAAc,CAAGF,MAAvB,CACAV,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAmCS,MAAnC,EACA,GAAMG,CAAAA,aAAa,gCAAQD,cAAR,MAAwBE,MAAM,CAAEH,SAAhC,EAAnB,CACAX,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAkCY,aAAlC,EACAb,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAuB,MAAOS,CAAAA,MAAM,CAACH,EAArC,CAAyC,MAAOM,CAAAA,aAAa,CAACN,EAA9D,EACA;AACA,GAAMX,CAAAA,OAAO,CAAGH,KAAK,CAACsB,GAAN,WAAarB,OAAb,aAAwBgB,MAAM,CAACH,EAA/B,EAAoCM,aAApC,CAAhB,CACA,MAAOjB,CAAAA,OAAO,CAACE,IAAR,CAAa,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACG,IAAb,EAArB,CAAP,CACA,CATD,CAUA,GAAMc,CAAAA,gBAAgB,CAAG,CAAErB,MAAM,CAANA,MAAF,CAAUQ,MAAM,CAANA,MAAV,CAAkBG,YAAY,CAAZA,YAAlB,CAAgCG,MAAM,CAANA,MAAhC,CAAzB,CAEA,cAAeO,CAAAA,gBAAf"},"metadata":{},"sourceType":"module"}